<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title> Fullscreen 360 video</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel='stylesheet' href='https://vjs.zencdn.net/5.10.4/video-js.css'>
<link rel='stylesheet' href='https://cdn.rawgit.com/yanwsh/videojs-panorama/master/dist/videojs-panorama.css'><link rel="stylesheet" href="./style.css">

</head>
<style>
 /* #imagePopup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 9999;
}

#popupImage {
  max-width: 20%;
  max-height: 20%;
} */
#player {
  position: relative;
  display: inline-block;
}

#image-overlay {
  position: absolute;
  top: 0;
  left: 0;
  display: none;
}

#image-overlay img {
  position: absolute;
  max-width: 300px;
  max-height: 300px;
  border: 2px solid #fff;
}


</style>
<body>
<!-- partial:index.partial.html -->
<div class="player-wrapper">
  <video id="player"  id="360Video"    class="player video-js vjs-default-skin vjs-big-play-centered" crossorigin="anonymous" preload="metadata" autoplay controls>
    <source src="SAM_0161.MP4">
  </video>
</div>

<!-- <div id="imagePopup">
  <img id="popupImage" src="HIRO.jpg" alt="Popup Image">
</div> -->

<div id="image-overlay"></div>

<!-- partial -->
  <script src='https://vjs.zencdn.net/5.10.4/video.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/three.js/r76/three.js'></script>
<script src='https://rawgit.com/yanwsh/videojs-panorama/master/dist/videojs-panorama.v5.js'></script><script  src="./script.js"></script>

<script>document.addEventListener("mousemove", handleMouseMove);

  function handleMouseMove(event) {
    var mouseX = event.clientX;
    var mouseY = event.clientY;
    
    console.log("Mouse coordinates: X=" + mouseX + ", Y=" + mouseY);
  }
  </script>
  <script>
// var imagePopup = document.getElementById("imagePopup");
// var popupImage = document.getElementById("popupImage");
// var video = document.getElementById("player");

// video.addEventListener("click", showPopup);
// imagePopup.addEventListener("dblclick", closePopup);

// function showPopup(event) {
//   var x = event.clientX;
//   var y = event.clientY;

//   // Set the image source and position
//   popupImage.src = "HIRO.jpg";
//   imagePopup.style.left = x + "px";
//   imagePopup.style.top = y + "px";

//   // Display the image popup
//   imagePopup.style.display = "block";
// }

// function closePopup() {
//   imagePopup.style.display = "none";
// }

// Get the video element and image overlay element
var video = document.getElementById("player");
var imageOverlay = document.getElementById("image-overlay");

// Add click event listener to the video
video.addEventListener("click", showImage);

// Show the image overlay and position the image at the clicked coordinates
function showImage(event) {
  // Calculate the position within the video container
  var rect = video.getBoundingClientRect();
  var x = event.clientX - rect.left;
  var y = event.clientY - rect.top;
  
  // Create and position the image
  var image = document.createElement("img");
  image.src = "HIRO.jpg";
  image.style.left = x + "px";
  image.style.top = y + "px";
  
  // Append the image to the image overlay
  imageOverlay.appendChild(image);
  
  // Show the image overlay
  imageOverlay.style.display = "block";
}

// Double click event listener to close the image
imageOverlay.addEventListener("dblclick", closeImage);

// Close the image overlay
function closeImage() {
  // Remove all child elements from the image overlay
  while (imageOverlay.firstChild) {
    imageOverlay.removeChild(imageOverlay.firstChild);
  }
  
  // Hide the image overlay
  imageOverlay.style.display = "none";
}

  </script>
</body>
</html>
